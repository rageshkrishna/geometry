language: python

python:
  - 2.7
  
build_image: shippableimages/ubuntu1204_python

# remember -y
before_install:
    - pip freeze
    - which python
    - shippable_retry apt-get update
    - shippable_retry apt-get install -y python-numpy python-scipy
    - virtualenv --system-site-packages -p `which python2.7` $HOME/new_ve
    - . $HOME/new_ve/bin/activate
    - pip freeze
    - which python
    
install:
  - pip install -r requirements.txt

# # Make folders for the reports
# before_script:
  # - mkdir -p shippable/testresults
  # - mkdir -p shippable/codecoverage

script:
  - nosetests geometry 
  # --with-xunit --xunit-file=shippable/testresults/nosetests.xml
  #  test.py 
  # - which python && coverage run --branch test.py
  # - which python && coverage xml -o shippable/codecoverage/coverage.xml test.py

#notifications:
#  email:
#   - censi@mit.edu
